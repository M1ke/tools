<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tech Debt Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 28px;
        }

        h3 {
            color: #555;
            margin-top: 30px;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .subtitle {
            color: #666;
            margin-bottom: 20px;
            font-size: 14px;
        }

        .home-link {
            display: inline-block;
            color: #667eea;
            text-decoration: none;
            font-size: 14px;
            margin-bottom: 20px;
            transition: color 0.3s;
        }

        .home-link:hover {
            color: #764ba2;
            text-decoration: underline;
        }

        .home-link::before {
            content: "← ";
        }

        p {
            color: #555;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        ul {
            color: #555;
            margin-left: 20px;
            line-height: 1.6;
        }

        .notice {
            background-color: #e3f2fd;
            border-left: 4px solid #2196F3;
            padding: 12px;
            margin-bottom: 20px;
            border-radius: 4px;
            color: #1565c0;
            font-size: 14px;
        }

        .warning {
            background-color: #fff3cd;
            border-left: 4px solid #ff9800;
            padding: 12px;
            margin-bottom: 20px;
            border-radius: 4px;
            font-weight: bold;
            color: #e65100;
            font-size: 14px;
        }

        button {
            display: block;
            width: 100%;
            padding: 20px;
            font-size: 20px;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 20px;
            transition: transform 0.1s, box-shadow 0.3s;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        button:active {
            transform: translateY(0);
        }

        label {
            display: block;
            font-weight: 600;
            color: #444;
            margin-bottom: 8px;
            font-size: 14px;
        }

        textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            resize: vertical;
            transition: border-color 0.3s;
            min-height: 400px;
            background-color: #f8f9fa;
        }

        textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .example {
            margin-top: 30px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
        }

        .example h3 {
            margin-top: 0;
            color: #555;
        }

        em {
            color: #666;
            font-size: 13px;
        }

        .hidden {
            display: none;
        }

        .output-section {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="home-link">Back to Home</a>

        <h1>Tech Debt Generator</h1>
        <p class="subtitle">Generate random JavaScript code filled with anti-patterns and bad practices</p>

        <div class="warning">
            ⚠️ WARNING: The code generated by this tool is intentionally terrible. Do NOT use it in production!
        </div>

        <button id="generateBtn">Generate Tech Debt</button>

        <div id="outputSection" class="output-section hidden">
            <label for="output">Generated Code:</label>
            <textarea id="output"></textarea>
        </div>

        <div class="example">
            <h3>What is this?</h3>
            <p>This was a silly demo of Claude Code.</p>
        </div>

        <p style="margin-top: 30px;"><em>All processing for this is done in your browser; no data is sent to any remote server</em></p>
    </div>

    <script>
        const badVariableNames = ['data', 'temp', 'temp2', 'foo', 'bar', 'thing', 'stuff', 'obj', 'arr', 'x', 'y', 'z', 'result', 'result2', 'final', 'finalResult', 'theData', 'myVar', 'variable'];

        const todoComments = [
            '// TODO: fix this later',
            '// FIXME: this is broken',
            '// HACK: temporary solution',
            '// TODO: refactor this mess',
            '// NOTE: this works but I don\'t know why',
            '// FIXME: memory leak?',
            '// TODO: add error handling',
            '// WARNING: do not touch this code'
        ];

        const magicNumbers = [42, 7, 100, 1000, 256, 999, 86400, 3600, 9999];

        const functionTemplates = [
            // God function
            () => {
                const name = random(badVariableNames);
                const num1 = random(magicNumbers);
                const num2 = random(magicNumbers);
                return `function processEverything(${name}) {
    ${random(todoComments)}
    var ${random(badVariableNames)} = ${name};
    if (${name}) {
        if (${name}.length > ${num1}) {
            for (var i = 0; i < ${name}.length; i++) {
                if (i % 2 == 0) {
                    ${random(badVariableNames)} = ${name}[i];
                    // do something
                }
            }
        } else {
            ${random(badVariableNames)} = ${name}.map(x => x * ${num2});
        }
    }
    return ${random(badVariableNames)};
}`;
            },

            // No error handling
            () => {
                return `function getData() {
    ${random(todoComments)}
    const response = JSON.parse(localStorage.getItem('data'));
    return response.items[0].value.nested.property;
}`;
            },

            // Callback hell
            () => {
                const var1 = random(badVariableNames);
                const var2 = random(badVariableNames);
                return `function doAsyncStuff(callback) {
    setTimeout(function() {
        console.log('step 1');
        setTimeout(function() {
            console.log('step 2');
            ${random(todoComments)}
            setTimeout(function() {
                const ${var1} = Math.random();
                setTimeout(function() {
                    callback(${var1});
                }, ${random(magicNumbers)});
            }, ${random(magicNumbers)});
        }, ${random(magicNumbers)});
    }, ${random(magicNumbers)});
}`;
            },

            // Commented out code
            () => {
                return `function calculate(value) {
    // const old = value * 2;
    // return old + 10;
    // const newer = value * 3;
    // if (newer > 100) {
    //     return newer;
    // }
    return value * ${random(magicNumbers)};
}`;
            },

            // Copy-paste with slight variations
            () => {
                const num = random(magicNumbers);
                return `function validateEmail(email) {
    if (!email) return false;
    if (email.length < 5) return false;
    if (email.indexOf('@') === -1) return false;
    return true;
}

function validateUsername(username) {
    if (!username) return false;
    if (username.length < ${num}) return false;
    if (username.indexOf('_') === -1) return false;
    return true;
}

function validatePassword(password) {
    if (!password) return false;
    if (password.length < ${num}) return false;
    if (password.indexOf('1') === -1) return false;
    return true;
}`;
            },

            // Mixed var/let/const
            () => {
                return `function messyVariables() {
    var ${random(badVariableNames)} = 1;
    let ${random(badVariableNames)} = 2;
    const ${random(badVariableNames)} = 3;
    var ${random(badVariableNames)} = ${random(badVariableNames)} + ${random(badVariableNames)};
    ${random(badVariableNames)} = ${random(magicNumbers)};
    return ${random(badVariableNames)};
}`;
            },

            // Global pollution
            () => {
                return `var globalCounter = 0;
var globalData = null;
var isReady = false;

function init() {
    globalCounter = ${random(magicNumbers)};
    globalData = {};
    isReady = true;
    window.temp = globalData;
}`;
            },

            // Useless abstraction
            () => {
                return `function createNumberAdder() {
    return function(a) {
        return function(b) {
            return function() {
                return a + b;
            }
        }
    }
}

const add = createNumberAdder()(${random(magicNumbers)})(${random(magicNumbers)})();`;
            },

            // Type coercion madness
            () => {
                return `function compareThings(a, b) {
    ${random(todoComments)}
    if (a == b) {
        return a + b;
    }
    if (a === b + '') {
        return a - b;
    }
    return a == true ? b : a;
}`;
            },

            // Inconsistent naming
            () => {
                return `function getUserData() { /* ... */ }
function get_user_settings() { /* ... */ }
function FetchUserProfile() { /* ... */ }
function GETUSER() { /* ... */ }`;
            },

            // Deep nesting
            () => {
                return `function processData(${random(badVariableNames)}) {
    if (${random(badVariableNames)}) {
        if (${random(badVariableNames)}.length > 0) {
            for (let i = 0; i < ${random(badVariableNames)}.length; i++) {
                if (${random(badVariableNames)}[i]) {
                    if (${random(badVariableNames)}[i].active) {
                        if (${random(badVariableNames)}[i].value > ${random(magicNumbers)}) {
                            return ${random(badVariableNames)}[i];
                        }
                    }
                }
            }
        }
    }
    return null;
}`;
            },

            // Premature optimization
            () => {
                return `// Optimized for performance!!!
const cache = new Map();
function getValue(key) {
    if (!cache.has(key)) {
        cache.set(key, key);
    }
    return cache.get(key);
}`;
            }
        ];

        const codeSnippets = [
            `// Legacy code - DO NOT TOUCH`,
            `eval('console.log("this is fine")');`,
            `with (Math) { const ${random(badVariableNames)} = cos(PI); }`,
            `for (var i = 0; i < ${random(magicNumbers)}; i++) { /* empty loop */ }`,
            `const ${random(badVariableNames)} = new Function('return this')();`,
            `Array.prototype.myCustomMethod = function() { return this[0]; };`,
            `setTimeout("console.log('hello')", ${random(magicNumbers)});`,
            `const ${random(badVariableNames)} = !!~[].indexOf('');`
        ];

        function random(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }

        function generateTechDebt() {
            const numFunctions = 3 + Math.floor(Math.random() * 4);
            const numSnippets = 2 + Math.floor(Math.random() * 3);

            let code = `${random(todoComments)}\n\n`;

            // Add some random functions
            for (let i = 0; i < numFunctions; i++) {
                const template = random(functionTemplates);
                code += template() + '\n\n';
            }

            // Add some random snippets
            for (let i = 0; i < numSnippets; i++) {
                code += random(codeSnippets) + '\n';
            }

            code += `\n${random(todoComments)}\n`;
            code += `// Last modified: ${new Date().toISOString()}\n`;
            code += `// Lines of code: ${code.split('\n').length}`;

            return code;
        }

        document.getElementById('generateBtn').addEventListener('click', function() {
            const outputSection = document.getElementById('outputSection');
            const output = document.getElementById('output');

            // Show the output section if it's hidden
            if (outputSection.classList.contains('hidden')) {
                outputSection.classList.remove('hidden');
            }

            // Generate and display the code
            output.value = generateTechDebt();
        });
    </script>
</body>
</html>
